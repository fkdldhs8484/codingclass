<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>퀴즈</title>

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dracula.css">
</head>

<body>
    <header id="header">
        <h1><a href="../index.html">Javascript</a></h1>

    </header>
    <!-- //header -->

    <main id="main">
        <div class="document">
            <h2 class="t_tit">quiz05</h2>
            <p class="t_box">문제를 맞추면 갯수가 나오는 구조이다.</p>

            <h3 class="t_tit2"></h3>
            <p class="t_desc"></p>
            <div class="t_code">
<pre><code class="language-js">const quizWrap = document.querySelector(".quiz__wrap");
    let quizScore = "";

    const updateQuiz = () => {
        const exam = [];

        quizInfo.forEach((question, number) => {
            exam.push(`
            &ltdiv class="quiz">
                &ltpan class="quiz__type">${question.answerType}&lt/span>
                &lth2 class="quiz__question">
                    &ltspan class="number">${question.ansWerNum}&lt/span>
                    &ltdiv class="ask">${question.answerAsk}&lt/div>
                &lt/h2>
                &ltdiv class="quiz__view">
                    &ltdiv class="true">정답입니다!&lt/div>
                    &ltdiv class="false">틀렸습니다!&lt/div>
                    &ltdiv class="dog">
                       &ltdiv class="head">
                            &ltdiv class="ears">&lt/div>
                            &ltdiv class="face">&lt/div>
                            &ltdiv class="eyes">
                                &ltdiv class="teardrop">&lt/div>
                            &lt/div>
                            &ltdiv class="nose">&lt/div>
                            &ltdiv class="mouth">
                                &ltdiv class="tongue">&lt/div>
                            &lt/div>
                            &ltdiv class="chin">&lt/div>
                        &lt/div>
                        &ltdiv class="body">
                            &ltdiv class="tail">&lt/div>
                            &ltdiv class="legs">&lt/div>
                            &lt/div>
                            &lt/div>
                &lt/div>
                &ltdiv class="quiz__answer">
                    &ltdiv class="quiz__selects">
                        &ltlabel for="select1${number}">
                            &ltinput type="radio" id="select1${number}" class="select" name="select${number}" value="1">
                            &ltspan class="choice">${question.answerChoice[0]}&lt/span>
                        &lt/label>
                        &ltlabel for="select2${number}">
                            &ltinput type="radio" id="select2${number}" class="select" name="select${number}" value="2">
                            &ltspan class="choice">${question.answerChoice[1]}&lt/span>
                        &lt/label>
                        &ltlabel for="select3${number}">
                            &ltinput type="radio" id="select3${number}" class="select" name="select${number}" value="3">
                            &ltspan class="choice">${question.answerChoice[2]}&lt/span>
                        &lt/label>
                        &ltlabel for="select4${number}">
                            &ltinput type="radio" id="select4${number}" class="select" name="select${number}" value="4">
                            &ltspan class="choice">${question.answerChoice[3]}&lt/span>
                        &lt/label>
                    &lt/div>
                &lt/div>
            &lt/div>
        `);
        });

        exam.push(`
            &ltdiv class="quiz__confirm">
                &ltbutton class="check">정답 확인하기&lt/button>
                &ltdiv class="ex">&lt/div>
            &lt/div>
        `);

        quizWrap.innerHTML = exam.join('');
    }
    updateQuiz();
</code></pre>
            </div>

            <h3 class="t_tit2">정답 확인</h3>
            <p class="t_desc"></p>
            <div class="t_code">
<pre><code class="language-js">const ansWerQuiz = () => {
    const quizSelects = document.querySelectorAll(".quiz__selects");    //객관식 보기
    // 사용자가 체크한 보기 == 문제 정답 
    quizInfo.forEach((question, number) => {
        const userSelector = `input[name=select${number}]:checked`;  //사용자가 체크한 것
        const quizSelectsWrap = quizSelects[number];
        const userAnswer = (quizSelectsWrap.querySelector(userSelector) || {}).value;
        const quizView = document.querySelectorAll(".quiz__view"); //강아지

        console.log(userAnswer)
        if (userAnswer == question.answerResult) {
            console.log("정답");
            quizScore++;
            quizView[number].classList.add("like");
        } else {
            console.log("오답");
            quizView[number].classList.add("dislike");
            const divBox = document.createElement("div");
            quizSelectsWrap.appendChild(divBox).innerHTML = `&ltp class="result">${question.answerEx}&lt/p>`;
        };
    });
    // 전체 문제수
    console.log(quizInfo.length)
    // 내가 맞힌 수
    console.log(quizScore)

    document.querySelector(".ex").innerHTML = `${quizInfo.length} 문제 중 ${quizScore}문제가 맞았습니다.`

    if (quizScore == 36) {
        console.log("합격입니다.")
    } else
        console.log("불합격입니다.")

}
</code></pre>
            </div>
            <h3 class="t_tit2">정답 클릭</h3>
            <div class="t_code">
<pre><code class="language-js">document.querySelector(".quiz__confirm .check").addEventListener("click", ansWerQuiz);
</code></pre>
            </div>
            <div class="t_iframe" style="min-height: 1000px; padding-top: 0;">
                <iframe src="https://fkdldhs8484.github.io/coding2/javascript/effect/quizEffect05.html"
                    frameborder="0"></iframe>
            </div>

            <div class="t_link">
                <a href="https://github.com/fkdldhs8484/coding2/blob/main/javascript/effect/quizEffect05.html"
                    target="_blank">원본 소스 보기</a>
            </div>
            <div class="t_link">
                <a href="https://fkdldhs8484.github.io/coding2/javascript/effect/quizEffect05.html"
                    target="_blank">원본 사이트 보기</a>
            </div>

        </div>
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:webstoryboy@naver.com">webstoryboy@naver.com</a>
    </footer>
    <!-- //footer -->

    <script src="../assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>

</html>